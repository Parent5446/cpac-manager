<?xml version="1.0" encoding="UTF-8" ?>
<!--
	* This file is part of the CPAC website.
	* Copyright 2014 Tyler Anthony Romeo
	*
	* The CPAC website is free software: you can redistribute it and/or modify
	* it under the terms of the GNU Affero General Public License as published by
	* the Free Software Foundation, either version 3 of the License, or
	* (at your option) any later version.
	*
	* Foobar is distributed in the hope that it will be useful,
	* but WITHOUT ANY WARRANTY; without even the implied warranty of
	* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	* GNU Affero General Public License for more details.
	*
	* You should have received a copy of the GNU Affero General Public License
	* along with Foobar.  If not, see <http://www.gnu.org/licenses/>.
-->
<routes xmlns="http://symfony.com/schema/routing"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://symfony.com/schema/routing http://symfony.com/schema/routing/routing-1.0.xsd">

	<import resource="@FOSUserBundle/Resources/config/routing/security.xml"/>
	<import resource="@FOSUserBundle/Resources/config/routing/profile.xml" prefix="/profile"/>
	<import resource="@FOSUserBundle/Resources/config/routing/registration.xml" prefix="/register"/>
	<import resource="@FOSUserBundle/Resources/config/routing/resetting.xml" prefix="/resetting"/>
	<import resource="@FOSUserBundle/Resources/config/routing/change_password.xml" prefix="/profile"/>

	<route id="con_info" path="/cons/{start_date}" methods="GET">
		<default key="_controller">CpacManagerBundle:Convention:info</default>
		<requirement key="start_date">[0-9]{4}-[0-9]{2}-[0-9]{2}</requirement>
	</route>
	<route id="con_modify" path="/cons/{start_date}" methods="PUT">
		<default key="_controller">CpacManagerBundle:Convention:modify</default>
		<requirement key="start_date">[0-9]{4}-[0-9]{2}-[0-9]{2}</requirement>
	</route>
	<route id="apptype_info" path="/cons/{start_date}/{type_name}" methods="GET">
		<default key="_controller">CpacManagerBundle:ApplicationType:info</default>
		<requirement key="start_date">[0-9]{4}-[0-9]{2}-[0-9]{2}</requirement>
		<requirement key="type_name">(art|dealer|cosplay|amv|panel)</requirement>
	</route>
	<route id="apptype_modify" path="/cons/{start_date}/{type_name}" methods="PUT">
		<default key="_controller">CpacManagerBundle:ApplicationType:info</default>
		<requirement key="start_date">[0-9]{4}-[0-9]{2}-[0-9]{2}</requirement>
		<requirement key="type_name">(art|dealer|cosplay|amv|panel)</requirement>
	</route>
	<route id="app_list" path="/cons/{start_date}/{type_name}/applications" methods="GET">
		<default key="_controller">CpacManagerBundle:Application:list</default>
		<requirement key="start_date">[0-9]{4}-[0-9]{2}-[0-9]{2}</requirement>
		<requirement key="type_name">(art|dealer|cosplay|amv|panel)</requirement>
	</route>
	<route id="app_new" path="/cons/{start_date}/{type_name}/applications" methods="POST">
		<default key="_controller">CpacManagerBundle:Application:new</default>
		<requirement key="start_date">[0-9]{4}-[0-9]{2}-[0-9]{2}</requirement>
		<requirement key="type_name">(art|dealer|cosplay|amv|panel)</requirement>
	</route>
	<route id="app_info" path="/cons/{start_date}/{type_name}/applications/{id}" methods="GET">
		<default key="_controller">CpacManagerBundle:Application:info</default>
		<requirement key="start_date">[0-9]{4}-[0-9]{2}-[0-9]{2}</requirement>
		<requirement key="type_name">(art|dealer|cosplay|amv|panel)</requirement>
		<requirement key="id">\d+</requirement>
	</route>
	<route id="app_modify" path="/cons/{start_date}/{type_name}/applications/{id}" methods="PUT">
		<default key="_controller">CpacManagerBundle:Application:modify</default>
		<requirement key="start_date">[0-9]{4}-[0-9]{2}-[0-9]{2}</requirement>
		<requirement key="type_name">(art|dealer|cosplay|amv|panel)</requirement>
		<requirement key="id">\d+</requirement>
	</route>
</routes>
